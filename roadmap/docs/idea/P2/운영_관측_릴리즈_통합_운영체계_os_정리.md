> **KPI(검색 전환율/결제 이탈률/추천 CTR)가 흔들리기 전에 "릴리즈를 제어"하고, 흔들리면 "빠르게 완화"해서 피해를 제한하는 체계**

---

## 0) 한 문장 목표

**KPI(검색 전환율/결제 이탈률/추천 CTR)가 흔들리기 전에 "릴리즈를 제어"하고, 흔들리면 "빠르게 완화"해서 피해를 제한하는 체계.**

✅ Done: 운영체계의 목표가 한 문장으로 정의됨.

---

## 1) 2층/3층 프레임: "건강"과 "변경"을 분리해서 본다

### 액션

**2층: 신뢰성(SRE) — "서비스가 약속을 지키는가?"**

- 포인트: KPI는 결과(늦게 흔들림)고, **SLO/SLI는 건강(조짐을 빠르게 포착)**이야.
- 결론: 운영 의사결정(릴리즈 중단/플래그 off)이 **KPI가 아니라 '약속 위반'**을 기준으로 돌아가야 함.

**3층: 딜리버리(릴리즈 품질) — "변경이 얼마나 안전하게 나가나?"**

- 포인트: 좋은 팀은 "잘 만드는 것"보다 **안전하게 내보내는 능력**이 성과를 좌우함.
- 결론: 배포/릴리즈는 기술이 아니라 **정책(게이트)과 지표(DORA/MTTR)**로 관리해야 함.

✅ Done: 신뢰성(SRE)과 딜리버리(릴리즈 품질) 프레임이 분리됨.

---

## 2) 관측 핵심: 알림(Alerts)은 "에러율"이 아니라 "KPI 방어" 기준으로

### 액션

**왜 에러율만 보면 부족하냐**

- 에러율은 "잡음"이 많고,
- 커머스는 **체크아웃 같은 특정 구간에서의 작은 악화가 KPI를 크게 흔들기** 쉬움.

**그래서 알림의 기준을 바꾼다**

- 알림은 다음 중 하나를 반드시 기준으로 삼는다:
  1. **Flow SLI/SLO 위반(또는 위반 임박)**
  2. **KPI 방어 지표 악화(결제 이탈률 급등, 추천 CTR 급락 등)**
  3. **릴리즈 직후의 이상 징후(버전 단위 비교)**

> 핵심: "지금 당장 행동해야 하는가?"를 알림이 말해줘야 하고, 그 행동은 보통 **릴리즈 제어(중단/축소/플래그 off)**로 이어져야 함.

✅ Done: 알림 기준이 KPI 방어 중심으로 재설계됨.

---

## 3) 대시보드 3장(=시야의 핵심): Flow / Release / Change Safety

### 액션

**A. Flow Health 보드 (커머스 4대 플로우) 💗**

**결제/쿠폰/장바구니/로그인** 각각을 "서비스 건강"으로 본다.

- 각 플로우는 최소 이 3개만 고정:
  - **성공률/완료율**(예: 결제 성공률, 쿠폰 적용 성공률)
  - **p95 지연**(사용자가 체감하는 구간)
  - **대표 실패 원인 Top N**(에러코드/실패 타입)

> 효과: KPI가 흔들릴 때 "어느 플로우의 건강이 깨졌는지"를 즉시 좁힘.

**B. Release Health 보드 (버전/릴리즈 단위) 💗**

"이번 릴리즈 때문에 깨졌나?"를 1분 안에 답하는 보드.

- 릴리즈 버전 기준으로:
  - crash-free / 오류율(가능하면)
  - Flow Health 핵심 지표(결제 성공률, p95 지연 등)
  - KPI(결제 이탈률 등)
    을 **버전별로 비교**한다.

> 효과: 장애/이상징후가 "코드 변경의 영향인지 vs 외부 요인인지"를 빠르게 분리.

**C. Change Safety 보드 (DORA 지표)**

여기는 "릴리즈 운영이 좋아지고 있나?"를 보는 보드.

- 최소 2개만 잡아도 충분:
  - **변경 실패율**: 배포 후 플래그 off/롤백/핫픽스가 필요했던 비율
  - **MTTR**: 감지 → 완화(플래그 off/롤백)까지 걸린 시간

> 효과: 팀이 성장하면 KPI보다 먼저 **변경이 더 안전해지고 복구가 빨라지는지**가 숫자로 보임.

✅ Done: 3개 대시보드(Flow/Release/Change Safety)가 정의됨.

---

## 4) 릴리즈 운영을 "기술"이 아니라 "정책"으로 만든다

### 액션

**핵심 원칙**

- "배포(deploy)"와 "릴리즈(release)"를 분리해서, **기능 노출은 정책으로 제어**한다.

**정책의 형태(=릴리즈 게이트)**

- **카나리/점진 롤아웃(Progressive Delivery)**를 룰로 둔다.
- 롤아웃 단계마다 "Release Health 보드" 기준을 통과해야 다음 단계로 간다.
- 통과 실패 시 선택지는 2개로 단순화:
  1. **플래그 off**(가장 빠른 완화)
  2. **롤백**(구조적 문제일 때)

> 포인트: 릴리즈가 사람의 감시가 아니라 **게이트 통과 게임**이 되게 만들기.

✅ Done: 릴리즈 게이트 정책이 정의됨.

---

## 5) 사고 대응을 "재현"이 아니라 "완화" 중심으로 재설계한다 (MTTR 최적화)

### 액션

**운영에서 가장 비싼 실수**

- "재현하느라 시간 쓰다" KPI가 더 망가지는 것.

**그래서 사고 대응을 3단계로 고정**

1. **범위 규명**: 어떤 플로우/조건(결제수단, 쿠폰 타입, OS/버전)에서만 터지나
2. **즉시 완화**: 플래그 off / 폴백 / 기능 제한(일부 기능 차단)
3. **원인 분석**: 그 다음에 Athena/Amplitude/Clarity로 증거 모으기

> 포인트: "원인 찾기"가 아니라 "피해 제한"이 1순위가 되면 MTTR이 내려감.

✅ Done: 사고 대응이 완화 중심 3단계로 재설계됨.

---

## 6) 운영 루프: 포스트모템의 끝은 "가드레일 강화"여야 한다

### 액션

**포스트모템이 설명으로 끝나면 운영이 발전하지 않음**

그래서 사건이 끝날 때 반드시 "시스템이 강해지는 변경"으로 닫아야 해.

**포스트모템 산출물의 정답 형태**

- **새 SLO/게이트 추가**(다음엔 자동으로 막히게)
- **플래그/폴백 보강**(다음엔 더 빨리 멈추게)
- **알림 개선**(다음엔 더 빨리 알게)

> 한 줄로: "사건 → 운영체계가 더 안전해짐"이 반복되면, 팀은 자동으로 강해진다.

✅ Done: 포스트모템이 가드레일 강화로 종료되는 루프가 정착됨.

---

## 7) 이 묶음의 구조를 한 장으로 요약하면

### 액션

- **Flow Health**: 지금 서비스가 건강한가?
- **Release Health**: 이번 변경이 문제를 만들었나?
- **Change Safety**: 우리 변경/복구 능력이 좋아지고 있나?
- **정책(게이트)**: 관측 결과로 릴리즈를 제어한다
- **완화 우선**: 재현보다 MTTR
- **포스트모템**: 설명이 아니라 가드레일 강화로 종료

✅ Done: 운영체계 전체 구조가 한 장으로 요약됨.
